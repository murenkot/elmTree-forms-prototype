
 const api_response = [
    {
       "Tasks":[
          {
             "Title":"Date Tested",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"dd/mm/yyyy",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":50,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"07/19/1974",
             "GhostText":"date tested",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"DATE",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Gauge Number",
             "PickList":"1.3|2.5|3.7",
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"1.3",
             "GhostText":"enter guage number",
             "FormType":"CUSTOM",
             "Reqrd":0,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Density Standard",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":50,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"Density Standard Value",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Density Shot",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":25,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Proctor",
             "PickList":"Proctor 1|Proctor 2|Proctor 3",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"Proctor 1",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Spec Number",
             "PickList":"A|B|C|D",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"A",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Test Location",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":15,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"This was a great 1st shot",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Baby T",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"units",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"I love Tanya",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"She is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Proctor",
             "PickList":"Proctor 1|Proctor 2|Proctor 3",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"Proctor 2",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":2
          },
          {
             "Title":"Spec Number",
             "PickList":"A|B|C|D",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"B",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":2
          },
          {
             "Title":"Test Location",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":15,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"This was a great 2nd shot",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":2
          },
          {
             "Title":"Baby T",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":2
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"units",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"More subform pre-filled data",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"It is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"units",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"More subform pre-filled data",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":2
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"It is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":2
          },
          {
             "Title":"Date Tested",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"dd/mm/yyyy",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":50,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"07/19/1974",
             "GhostText":"date tested",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"DATE",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Gauge Number",
             "PickList":"1.3|2.5|3.7",
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"1.3",
             "GhostText":"enter guage number",
             "FormType":"CUSTOM",
             "Reqrd":0,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Density Standard",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":50,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"Density Standard Value",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Density Shot",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":null,
             "Chars":25,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Proctor",
             "PickList":"Proctor 1|Proctor 2|Proctor 3",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"Proctor 1",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Spec Number",
             "PickList":"A|B|C|D",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"A",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Test Location",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":15,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"This was a great 1st shot",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Baby T",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"units",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"I love Tanya",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"She is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Proctor",
             "PickList":"Proctor 1|Proctor 2|Proctor 3",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"Proctor 2",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":1,
             "FormGroupId":2
          },
          {
             "Title":"Spec Number",
             "PickList":"A|B|C|D",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"B",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":2,
             "FormGroupId":2
          },
          {
             "Title":"Test Location",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":15,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"This was a great 2nd shot",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":3,
             "FormGroupId":2
          },
          {
             "Title":"Baby T",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":4,
             "FormGroupId":2
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"units",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"More subform pre-filled data",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"It is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"units",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"More subform pre-filled data",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":1,
             "FormGroupId":2
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"",
             "JobId":1,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"It is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":2,
             "FieldId":2,
             "FormGroupId":2
          }
       ],
       "JobName":"Job Name",
       "JobDescription":"Cupcake ipsum dolor sit. Amet I love liquorice jujubes pudding croissant I love pudding. Apple pie macaroon toffee jujubes pie tart cookie applicake caramels. Halvah macaroon I love lollipop. Wypas I love pudding brownie cheesecake tart jelly-o. Bear claw cookie chocolate bar jujubes toffee",
       "JobId":1
    },
    {
       "Tasks":[
          {
             "Title":"Date Tested",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"dd/mm/yyyy",
             "JobId":2,
             "SuperParentFormId":null,
             "Chars":50,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"07/19/1974",
             "GhostText":"date tested",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"DATE",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Gauge Number",
             "PickList":"1.3|2.5|3.7",
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"1.3",
             "GhostText":"enter guage number",
             "FormType":"CUSTOM",
             "Reqrd":0,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Density Standard",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":null,
             "Chars":50,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"Density Standard Value",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Density Shot",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":null,
             "Chars":25,
             "FormId":2,
             "FormName":"Soil Density",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Proctor",
             "PickList":"Proctor 1|Proctor 2|Proctor 3",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"Proctor 1",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Spec Number",
             "PickList":"A|B|C|D",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"A",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Test Location",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":15,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"This was a great 1st shot",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Baby T",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"units",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"I love Tanya",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"She is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Proctor",
             "PickList":"Proctor 1|Proctor 2|Proctor 3",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"Proctor 2",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":2
          },
          {
             "Title":"Spec Number",
             "PickList":"A|B|C|D",
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":0,
             "FieldValue":"B",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":2
          },
          {
             "Title":"Test Location",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":15,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"This was a great 2nd shot",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":2
          },
          {
             "Title":"Baby T",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":1,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":null,
             "FormId":3,
             "FormName":"Density Shot",
             "ParentFormId":2,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"FORM SELECT",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":2
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"units",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"More subform pre-filled data",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"It is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Check Me Out",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"units",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":0,
             "FieldValue":"More subform pre-filled data",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":2
          },
          {
             "Title":"Im three layers deep",
             "PickList":null,
             "ParentFieldId":4,
             "ParentGroupId":2,
             "Units":"",
             "JobId":2,
             "SuperParentFormId":2,
             "Chars":2,
             "FormId":4,
             "FormName":"Baby T",
             "ParentFormId":3,
             "UsrDelete":1,
             "FieldValue":"It is the best",
             "GhostText":"",
             "FormType":"CUSTOM",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":1,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":2
          }
       ],
       "JobName":"Job Name",
       "JobDescription":"Cupcake ipsum dolor sit. Amet I love liquorice jujubes pudding croissant I love pudding. Apple pie macaroon toffee jujubes pie tart cookie applicake caramels. Halvah macaroon I love lollipop. Wypas I love pudding brownie cheesecake tart jelly-o. Bear claw cookie chocolate bar jujubes toffee",
       "JobId":2
    },
    {
       "Tasks":[
          {
             "Title":"Set Number",
             "PickList":"specimin 1|specimin 2|specimin 3",
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":1,
             "FieldOrder":1,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":1,
             "FormGroupId":1
          },
          {
             "Title":"Pickup Date",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":25,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":1,
             "FieldOrder":2,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":2,
             "FormGroupId":1
          },
          {
             "Title":"Pickup Time",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":25,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":1,
             "FieldOrder":3,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":3,
             "FormGroupId":1
          },
          {
             "Title":"Transpoted By",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":25,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":0,
             "FieldOrder":5,
             "DataType":"STRING",
             "ShowInApp":0,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":4,
             "FormGroupId":1
          },
          {
             "Title":"Cure Method",
             "PickList":"small|bigger|biggest",
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":1,
             "FieldOrder":4,
             "DataType":"ARRAY",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":5,
             "FormGroupId":1
          },
          {
             "Title":"Min. Cure Temperature",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"(oF)",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":1,
             "FieldOrder":6,
             "DataType":"NUMBER",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":6,
             "FormGroupId":1
          },
          {
             "Title":"Max. Cure Temperature",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"(oF)",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":null,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":1,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":0,
             "FieldOrder":7,
             "DataType":"NUMBER",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":7,
             "FormGroupId":1
          },
          {
             "Title":"Remarks",
             "PickList":null,
             "ParentFieldId":null,
             "ParentGroupId":null,
             "Units":"",
             "JobId":3,
             "SuperParentFormId":null,
             "Chars":250,
             "FormId":5,
             "FormName":"Concrete Pickup Form",
             "ParentFormId":null,
             "UsrDelete":0,
             "FieldValue":"",
             "GhostText":"",
             "FormType":"DEFAULT",
             "Reqrd":1,
             "FieldOrder":8,
             "DataType":"STRING",
             "ShowInApp":1,
             "CustomerId":3,
             "TaskId":1,
             "FieldId":8,
             "FormGroupId":1
          }
       ],
       "JobName":"Job Name",
       "JobDescription":"Cupcake ipsum dolor sit. Amet I love liquorice jujubes pudding croissant I love pudding. Apple pie macaroon toffee jujubes pie tart cookie applicake caramels. Halvah macaroon I love lollipop. Wypas I love pudding brownie cheesecake tart jelly-o. Bear claw cookie chocolate bar jujubes toffee",
       "JobId":3
    }
 ]


 const tamplates = {
    "Concrete Pour":[
        {
           "Title":"Number of Specimens",
           "TechId":"",
           "PickList":null,
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"",
           "FormId":2,
           "CustomerId":"",
           "Chars":10,
           "JobId":"",
           "FormName":"Concrete Pour",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"",
           "Reqrd":1,
           "FieldOrder":1,
           "DataType":"NUMBER",
           "JobDate":"",
           "TaskId":"",
           "FieldId":1,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
           "Title":"Specimen Size",
           "TechId":"",
           "PickList":"small|bigger|biggest",
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"",
           "FormId":2,
           "CustomerId":"",
           "Chars":null,
           "JobId":"",
           "FormName":"Concrete Pour",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"enter specimen size",
           "Reqrd":1,
           "FieldOrder":2,
           "DataType":"ARRAY",
           "JobDate":"",
           "TaskId":"",
           "FieldId":2,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
           "Title":"Date Placed",
           "TechId":"",
           "PickList":null,
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"dd/mm/yyyy",
           "FormId":2,
           "CustomerId":"",
           "Chars":25,
           "JobId":"",
           "FormName":"Concrete Pour",
           "ParentFormId":null,
           "UsrDelete":1,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"",
           "Reqrd":0,
           "FieldOrder":3,
           "DataType":"DATE",
           "JobDate":"",
           "TaskId":"",
           "FieldId":3,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
           "Title":"Ambient Temperature",
           "TechId":"",
           "PickList":null,
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"F",
           "FormId":2,
           "CustomerId":"",
           "Chars":50,
           "JobId":"",
           "FormName":"Concrete Pour",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"enter temp. here",
           "Reqrd":1,
           "FieldOrder":4,
           "DataType":"NUMBER",
           "JobDate":"",
           "TaskId":"",
           "FieldId":4,
           "ShowInApp":0,
           "FormGroupId":1
        }
     ],
     "Soil Density":[
        {
           "Title":"Date Tested",
           "TechId":"",
           "PickList":null,
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"dd/mm/yyyy",
           "FormId":2,
           "CustomerId":"",
           "Chars":50,
           "JobId":"",
           "FormName":"Soil Density",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"date tested",
           "Reqrd":1,
           "FieldOrder":1,
           "DataType":"DATE",
           "JobDate":"",
           "TaskId":"",
           "FieldId":1,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
           "Title":"Gauge Number",
           "TechId":"",
           "PickList":"1.3|2.5|3.7",
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"",
           "FormId":2,
           "CustomerId":"",
           "Chars":null,
           "JobId":"",
           "FormName":"Soil Density",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"enter guage number",
           "Reqrd":0,
           "FieldOrder":2,
           "DataType":"ARRAY",
           "JobDate":"",
           "TaskId":"",
           "FieldId":2,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
           "Title":"Density Standard",
           "TechId":"",
           "PickList":null,
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"",
           "FormId":2,
           "CustomerId":"",
           "Chars":50,
           "JobId":"",
           "FormName":"Soil Density",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"",
           "Reqrd":1,
           "FieldOrder":3,
           "DataType":"STRING",
           "JobDate":"",
           "TaskId":"",
           "FieldId":3,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
           "Title":"Density Shot",
           "TechId":"",
           "PickList":null,
           "ParentFieldId":null,
           "ParentGroupId":null,
           "Units":"",
           "FormId":2,
           "CustomerId":"",
           "Chars":25,
           "JobId":"",
           "FormName":"Soil Density",
           "ParentFormId":null,
           "UsrDelete":0,
           "SuperParentFormId":null,
           "FieldValue":"",
           "GhostText":"",
           "Reqrd":1,
           "FieldOrder":4,
           "DataType":"FORM SELECT",
           "JobDate":"",
           "TaskId":"",
           "FieldId":4,
           "ShowInApp":1,
           "FormGroupId":1
        },
        {
            "FormName":"Density Shot",
            "ParentFormId": 2,
            "FieldOrder":1,
            "Title":"Proctor",
            "DataType":"ARRAY",
            "Chars":null,
            "Required":1,
            "JobId": null,
            "FormId": 3,
            "GhostText":"",
            "CustomerId": null,
            "ParentFieldId":4,
            "ParentGroupId":null,
            "Units":"",
            "TaskId":null,
            "FieldValue":"NEW",
            "PickList":"Proctor 1|Proctor 2|Proctor 3",
            "FieldId":1,
            "ShowInApp":1,
            "FormGroupId":null
         },
        {
            "FormName":"Density Shot",
            "ParentFormId": null,
            "FieldOrder":2,
            "Title":"Spec Number",
            "DataType":"ARRAY",
            "Chars":null,
            "Required":1,
            "JobId": null,
            "FormId": 3,
            "GhostText":"",
            "CustomerId": null,
            "ParentFieldId": 4,
            "ParentGroupId": null,
            "Units":"",
            "TaskId": null,
            "FieldValue":"NEW",
            "PickList":"A|B|C|D",
            "FieldId":2,
            "ShowInApp":1,
            "FormGroupId": null
         },
         {
            "FormName":"Density Shot",
            "ParentFormId": null,
            "FieldOrder":3,
            "Title":"Test Location",
            "DataType":"STRING",
            "Chars":15,
            "Required":1,
            "JobId":null,
            "FormId":3,
            "GhostText":"",
            "CustomerId":null,
            "ParentFieldId":4,
            "ParentGroupId":null,
            "Units":"",
            "TaskId":null,
            "FieldValue":"This is sonething new",
            "PickList":null,
            "FieldId":3,
            "ShowInApp":1,
            "FormGroupId":null
         },
         {
            "FormName":"Density Shot",
            "ParentFormId":null,
            "FieldOrder":4,
            "Title":"Baby T",
            "DataType":"FORM SELECT",
            "Chars":null,
            "Required":1,
            "JobId":null,
            "FormId":3,
            "GhostText":"",
            "CustomerId":null,
            "ParentFieldId":4,
            "ParentGroupId":null,
            "Units":"",
            "TaskId":null,
            "FieldValue":"",
            "PickList":null,
            "FieldId":4,
            "ShowInApp":1,
            "FormGroupId":null
         },
         {
            "Title":"Check Me Out",
            "PickList":null,
            "ParentFieldId":4,
            "ParentGroupId":null,
            "Units":"units",
            "JobId":null,
            "SuperParentFormId":2,
            "Chars":2,
            "FormId":4,
            "FormName":"Baby T",
            "ParentFormId":3,
            "UsrDelete":1,
            "FieldValue":"More subform pre-filled data",
            "GhostText":"",
            "FormType":"CUSTOM",
            "Reqrd":1,
            "FieldOrder":1,
            "DataType":"STRING",
            "ShowInApp":1,
            "CustomerId":null,
            "TaskId":1,
            "FieldId":1,
            "FormGroupId":null
         },
         {
            "Title":"Im three layers deep",
            "PickList":null,
            "ParentFieldId":4,
            "ParentGroupId":null,
            "Units":"",
            "JobId":null,
            "SuperParentFormId":2,
            "Chars":2,
            "FormId":4,
            "FormName":"Baby T",
            "ParentFormId":3,
            "UsrDelete":1,
            "FieldValue":"It is the best",
            "GhostText":"",
            "FormType":"CUSTOM",
            "Reqrd":1,
            "FieldOrder":2,
            "DataType":"STRING",
            "ShowInApp":1,
            "CustomerId":null,
            "TaskId":1,
            "FieldId":2,
            "FormGroupId":null
         },
     ]
 }


/* RECURRING METHODS AND GLOBAL VARIABLES */
// retrive data for a particular form to separate dataset

// current task Id
var currentTaskId = '';

// here we'll store a sequence of open subforms so we can go back 
const formHistory = {};

// this list stores all section form Id in format "form-1-2" where 1 is FormId and 2 is FormGroupId. I don't know why I need it.
const sectionIdList = {};

let taskDataSet = [];

const setTaskDataSet = (TaskId) => {
    taskDataSet = job.Tasks.filter(row => row.TaskId === Number(TaskId));
    currentTaskId = TaskId;
}

const getDataSet = (FormId, FormGroupId, ParentGroupId, ParentFieldId) => {
    let dataSet = taskDataSet.filter(row => row.FormId === FormId && row.FormGroupId === FormGroupId && row.ParentFieldId === ParentFieldId && row.ParentGroupId === ParentGroupId);
    return dataSet;
};

// get title of particular form
const getTitle = (FormId, FormGroupId, ParentGroupId, ParentFieldId) => {
    let dataSet = taskDataSet.filter(row => row.FormId === FormId && row.FormGroupId === FormGroupId && row.ParentFieldId === ParentFieldId && row.ParentGroupId === ParentGroupId);
    let title = dataSet[0].FormName;
    return title;
}

const getFormDataSet = (FormId, FormGroupId, ParentFormId, ParentFieldId) => {
    let dataSet = taskDataSet.filter(row => 
        row.FormId === FormId 
        && row.FormGroupId === FormGroupId 
        && row.ParentFormId === ParentFormId
        && row.ParentFieldId === ParentFieldId
        );
    return [...dataSet];
}

const getRowData = (dataSet, FieldId) => {
    let row = dataSet.filter(row => row.FieldId === FieldId);
    return row;
}

const updateRow = (dataSet, FieldId, val) => {
    let row = dataSet.filter(row => row.FieldId === FieldId);
    row.FieldValue = val;   
} 

// set current form 
const setCurrentForm = (FormId, FormGroupId, ParentGroupId, ParentFieldId) => {
    currentForm.FormId = FormId;
    currentForm.FormGroupId = FormGroupId;
    currentForm.ParentFieldId = ParentFieldId;
    currentForm.ParentGroupId = ParentGroupId;
}

const setChildForm = (FormId, FormGroupId, ParentGroupId, ParentFieldId) => {
    childForm.FormId = FormId;
    childForm.FormGroupId = FormGroupId;
    childForm.ParentFieldId = ParentFieldId;
    childForm.ParentGroupId = ParentGroupId;
}

const setVisibleForm = (sectionId) => {
    visibleForm.sectionId = sectionId
}

// NOTE ADD NEW SUBFORM !!!!!!!!!!!!!!!!!!!!!!!!

const addNewSubform = (subformName, parentSectionId, fieldId) => {
    console.log("creating a new subform...");

    // set up all parameters for a new subform from parentSectionId ( something like "form-2-3-2-1-4")
    let ID = parentSectionId.split('-');
    let JobId = job.jobId;
    let TaskId = Number(ID[1]);
    let FormId = Number(ID[2]) + 1;
    let ParentFormId = Number(ID[2]);
    let ParentGroupId = Number(ID[3]);
    let ParentFieldId = Number(fieldId);

    // we need to know task (main form) name at first so we can call corresponding template and then search for particular subform. Main  form ParentFormId and ParentFieldId === null 
    let mainForm = taskDataSet.filter(row => row.ParentGroupId === null && row.ParentFieldId === null);
    let FormName = mainForm[0]['FormName'];

    const subformTemplate = tamplates[FormName].filter(row => row.FormName === subformName);
    const newSubform = JSON.parse(JSON.stringify(subformTemplate));

    // new FormGroupId depends on the previous biggest FormGroupId
    let lastFormGroupId = 0;
    let dataset = taskDataSet.filter(row => row.ParentFormId === ParentFormId && row.ParentGroupId === ParentGroupId && row.ParentFieldId === ParentFieldId);

    dataset.forEach(row => {
        if (row.FormGroupId > lastFormGroupId) 
        {lastFormGroupId = row.FormGroupId}
    });
    let nextFormGroupId = lastFormGroupId + 1;

    // let CustomerId = dataset[0].CustomerId;

    newSubform.forEach(row => {
        row.JobId = JobId;
        row.TaskId = TaskId;
        row.FormId = FormId;
        row.ParentFormId = ParentFormId;
        row.ParentGroupId = ParentGroupId;
        row.FormGroupId = nextFormGroupId;
        // row.CustomerId = CustomerId;
        row.ParentFieldId = ParentFieldId;
    });

    // add section tag with unique ID that has a format "form-1-2-1-4" where 1 is FormId and 2 is FormGroupId and 1 is ParentGroupId and 4 is Parent
    let sectionId = "form-" + TaskId + "-" + FormId + "-" + nextFormGroupId + "-" + ParentGroupId + "-" + ParentFieldId;
    sectionIdList[TaskId].push(sectionId);
    $('body').append(`
    <section id="${sectionId}" class="hidden">
        <div class="form-name flex-container">
            <h3>${subformName}</h3>
        </div>
    </section>
    `)

    newSubformSorted = newSubform.sort((a, b) => (a.FieldOrder > b.FieldOrder) ? 1 : -1);

    newSubformSorted.forEach(row => {
        
        // if "FieldDataType" === "FORM SELECT" it means that form has a subform and it needs a subform preview
        
        if (row.DataType === "FORM SELECT") {
            $('#'+ sectionId).append(`
                <div class="form-preview-title"><span>${row.Title}</span></div>
                <div class="form-preview-container"></div>                
            `)
            
            // add button at the end
            $('#'+ sectionId).append(`
            <button type="button" id="addTo-${sectionId}" onclick="addNewSubform('${row.Title}', '${sectionId}', '${row.FieldId}')">New ${row.Title}</button>
            `)
            
        // for every other row we add just input field
        } else {
            $('#'+ sectionId).append(`
            <div class="row">
                <span>${row.Title}</span><br/>
                <input id="${sectionId + "-" + row.FieldId}" 
                    type="text" 
                    name="${row.Title}" 
                    value="${row.FieldValue}" 
                    onchange=${function() {testInput()}} 
                    placeholder="${row.GhostText}"></input>
            </div>
        `)}  
    });

    // add "Save" or "Submit" button
    // if form is SuperParent (it's SuperParentFieldId === "NULL") we add "Submit" button
    if (ParentGroupId === null) {
        $('#'+ sectionId).append(`
        <button type="button" id="submit-${sectionId}">Submit</button>
    `)  
    } else {
        $('#'+ sectionId).append(`
        <button type="button" id="save-${sectionId}">Save</button>
    `)
    }

    // Add preview of this new form to its parent
    $('#' + parentSectionId).find(".form-preview-container").append(
        `
        <div id="preview1/${childSectionId}" class="preview-container">
            <p id="preview2/${sectionId}">${subformName} ${nextFormGroupId}</p>
         </div>
        `
    )

    // add created subform to main dataset
    newSubform.forEach(row => api_response[0].Tasks.push(row));

    // update taskData Set
    setTaskDataSet(TaskId);

    // make new subform visible
    $('#' + sectionId).removeClass('hidden');

    // and add "hidden" class to the current visible form
    $('#' + visibleForm.sectionId).addClass('hidden');

    // add current visible form Id to the history array
    formHistory[currentTaskId].push(visibleForm.sectionId);
    
    // assign a new visible form Id
    visibleForm.sectionId = sectionId;
 

}

const currentForm = {
    FormId: 2,
    FormGroupId: 1,
    ParentFieldId: 'NULL',
    ParentGroupId: 'NULL',
    // dataSet: function() { return api_response.filter(row => row.FormId === this.FormId && row.FormGroupId === this.FormGroupId)},
    dataSet: function() {return getDataSet(this.FormId, this.FormGroupId, this.ParentGroupId, this.ParentFieldId)},
    title: function() {return getTitle(this.FormId, this.FormGroupId, this.ParentGroupId, this.ParentFieldId)},
};

const childForm = {
    FormId: '',
    FormGroupId: '',
    ParentFieldId: '',
    ParentGroupId: '',
    dataSet: function() {return getDataSet(this.FormId, this.FormGroupId, this.ParentGroupId, this.ParentFieldId)},
    title: function() {return getTitle(this.FormId, this.FormGroupId, this.ParentGroupId, this.ParentFieldId)},
    };

const visibleForm = {
    FormId: '',
    FormGroupId: '',
    ParentFieldId: '',
    ParentGroupId: '',
    // sectionId: function() {return "form-" + this.FormId + "-" + this.FormGroupId},
    sectionId: '',
    dataSet: function() {return getDataSet(this.FormId, this.FormGroupId, this.ParentGroupId, this.ParentFieldId)},
    title: function() {return getTitle(this.FormId, this.FormGroupId, this.ParentGroupId, this.ParentFieldId)},
}

const addNewTask = (TaskName) => {
    console.log("creating a new task...");

    // close modal window
    modal.style.display = "none";


    const taskTemplate = tamplates[TaskName];

    console.log(taskTemplate);
    const newTaskForm = JSON.parse(JSON.stringify(taskTemplate));

    // new FormGroupId depends on the previous biggest FormGroupId
    let lastTaskId = 0;
    job.Tasks.forEach(row => {
        if (row.TaskId > lastTaskId) {
            lastTaskId = row.TaskId
        }
    });

    let JobId = job.jobId;
    let TaskId = lastTaskId + 1;
    let FormGroupId = 1; // it's always 1 for a new task form

    // let CustomerId = 777; // ????? it'll be added to job level
    
    let newTaskFormMain = newTaskForm.filter(row => row.ParentFieldId === null);
    
    let FormId = newTaskFormMain[0].FormId;


    newTaskFormMain.forEach(row => {
        row.JobId = JobId;
        row.TaskId = TaskId;
        // row.CustomerId = CustomerId;
    });

   


    // add section tag with unique ID that has a format "form-1-2-1-4" where 1 is FormId and 2 is FormGroupId and 1 is ParentGroupId and 4 is Parent
    let sectionId = "form-" + TaskId + "-" + FormId + "-" + FormGroupId + "-null-null";
    sectionIdList[TaskId] = [sectionId];
    formHistory[TaskId] = [];

    $('body').append(`
    <section id="${sectionId}" class="hidden">
        <div class="form-name flex-container">
            <h3>${TaskName}</h3>
        </div>
    </section>
    `)

    newTaskFormSorted = newTaskFormMain.sort((a, b) => (a.FieldOrder > b.FieldOrder) ? 1 : -1);

    newTaskFormSorted.forEach(row => {
        
        // if "FieldDataType" === "FORM SELECT" it means that form has a subform and it needs a subform preview
        
        if (row.DataType === "FORM SELECT") {
            $('#'+ sectionId).append(`
            <div class="form-preview-title"><span>${row.Title}</span></div>
            <div class="form-preview-container"></div>                
        `)

            // add button at the end for a new subform
            $('#'+ sectionId).append(`
            <button type="button" id="addTo-${sectionId}" onclick="addNewSubform('${row.Title}', '${sectionId}', '${row.FieldId}')">New ${row.Title}</button>
            `)
            
        // for every other row we add just input field
        } else {
            $('#'+ sectionId).append(`
            <div class="row">
                <span>${row.Title}</span><br/>
                <input id="${sectionId + "-" + row.FieldId}" 
                    type="text" 
                    name="${row.Title}" 
                    value="${row.FieldValue}" 
                    onchange="" 
                    placeholder="${row.GhostText}"></input>
            </div>
        `)}
    });
    
    // add submit button
    $('#'+ sectionId).append(`
    <button type="button" id="submit-${sectionId}">Submit</button>
`)  

    // Add preview of this new task to job level
    $('.tasks-preview-container').append(
        `
        <p id="task-preview/${TaskId}">${TaskName}</p>
        `
    )

    // add created form to main dataset
    newTaskFormMain.forEach(row => api_response[0].Tasks.push(row));

    // update taskData Set
    setTaskDataSet(TaskId);

    // make new subform visible
    $('#' + sectionId).removeClass('hidden');

    // and add "hidden" class to the current visible form
    $(`#job-${job.JobId}`).addClass('hidden');
    
    // assign a new visible form Id
    visibleForm.sectionId = sectionId;



 
}



/* INITIAL SETUP */
// build a job page (for this exemple I use just the first job) so index is 0:
const job = api_response[0];
$('body').append(`
    <section id="job-${job.JobId}">
        <div class="form-name flex-container">
            <h3>${job.JobName}</h3>
        </div>
        <p>${job.JobDescription}</p>
        <div class="tasks-preview-container"></div>
        <button id="myBtn" type="button">ADD NEW TASK</button>
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
            </div>
        </div>
    </section>
`)

// Add new task options to modal window from tempates.
// a list of new tasks for this job is in templats object
let newTasksList = Object.keys(tamplates);
newTasksList.forEach(task => {
    $(".modal-content").append(`
    <p onclick="addNewTask('${task}')">${task}</p>
    `)
})



// NOTE add preview for each tast
const taskIdList = [];

// task title is the name of the parent form. parent form is a form where ParentFieldId == null and ParentGroupId == 0; or FormId === 2;
const taskTitles = {};
job.Tasks.forEach(row => {
    let taskId = row.TaskId;
    if (!taskIdList.includes(taskId)) {
        taskIdList.push(taskId)
        // taskTitle = task.filter(row => row.FormId === 2).FormName;
        taskTitles[taskId] = row.FormName;

        formHistory[taskId] = [];
        sectionIdList[taskId] = [];      
    }
});

taskIdList.forEach(task => {
    $(".tasks-preview-container").append(`
        <p id="task-preview/${task}">${taskTitles[task]}</p>
    `)
});


// build form for each task
taskIdList.forEach(TaskId => {
    setTaskDataSet(TaskId);
    let taskId = "task-" + taskDataSet[0].TaskId;
    $('#job-' + job.jobId).append(`
        <div id="${taskId}"></div>
    `)

    // to build <section> for each level of form
    // let's get a list of FormId
    let formIdList = [];
    taskDataSet.forEach(row => formIdList.push(row.FormId))
    const formIdListUnique = [...new Set(formIdList)].sort((a, b) => (a > b) ? 1 : -1);

    formIdListUnique.forEach((FormId)=>{
        let formGroupIdList = [];
        let dataSetByFormId = taskDataSet.filter(row => row.FormId === FormId);
        dataSetByFormId.forEach(row => formGroupIdList.push(row.FormGroupId));
        const formGroupIdListUnique = [...new Set(formGroupIdList)];

        formGroupIdListUnique.forEach(FormGroupId => {
            let parentGroupIdList = [];
            let dataSetX = taskDataSet.filter(row => row.FormId === FormId && row.FormGroupId === FormGroupId);
            dataSetX.forEach(row => parentGroupIdList.push(row.ParentGroupId));
            const parentGroupIdListUnique = [...new Set(parentGroupIdList)];


            parentGroupIdListUnique.forEach(ParentGroupId => {
                let parentFieldIdList = [];
                let dataSetY = taskDataSet.filter(row => row.FormId === FormId && row.FormGroupId === FormGroupId && row.ParentGroupId === ParentGroupId);
                dataSetY.forEach(row => parentFieldIdList.push(row.ParentFieldId));
                const parentFieldIdListUnique = [...new Set(parentFieldIdList)];
                parentFieldIdListUnique.forEach(ParentFieldId => {
                    // assign currentForm variable
                    setCurrentForm(FormId, FormGroupId, ParentGroupId, ParentFieldId);

                    // add section tag with unique ID that has a format "form-3-1-2-1-4" where 1 is FormId and 2 is FormGroupId and 1 is ParentGroupId and 4 is Parent
                    let sectionId = "form-" + TaskId + "-" + FormId + "-" + FormGroupId + "-" + ParentGroupId + "-" + ParentFieldId;
                    sectionIdList[TaskId].push(sectionId);
                    $('body').append(`
                    <section id="${sectionId}" class="hidden">
                        <div class="form-name flex-container">
                            <h3>${currentForm.title()}</h3>
                        </div>
                    </section>
                    `)


                    // get current form data set and sort it:
                    let dataSet = currentForm.dataSet().sort((a, b) => (a.FieldOrder > b.FieldOrder) ? 1 : -1);
                    dataSet.forEach(row => {
                    // if "FieldDataType" === "FORM SELECT" it means that form has a subform and it needs a subform preview
                    
                    if (row.DataType === "FORM SELECT") {
                        // let's find all children of current form
                        // get children FormId. 

                        let currentFieldId = row.FieldId;
                        let currentFormGroupId = row.FormGroupId;

                        let childrenDataSetByFormId = taskDataSet.filter(row => row.FormId === FormId+1 && row.ParentFormId === FormId && row.ParentFieldId === currentFieldId && row.ParentGroupId === currentFormGroupId);

                        $('#'+ sectionId).append(`
                                <div class="form-preview-title"><span>${row.Title}</span></div>
                                <div class="form-preview-container"></div>                
                            `)
                        // if a form has children let's add a <div> for children preview with a lable

                        if (childrenDataSetByFormId.length) {
                            

                            // unique children FormGroupId:
                            let childrenFormGroupIdList = [];
                            childrenDataSetByFormId.forEach(row => childrenFormGroupIdList.push(row.FormGroupId));
                            const childrenFormGroupIdListUnique = [...new Set(childrenFormGroupIdList)];

                            childrenFormGroupIdListUnique.forEach(childFormGroupId => {
                                let childFormId = FormId + 1;
                                let childParentGroupId = row.FormGroupId;
                                let childParentFieldId = row.FieldId;

                                setChildForm(childFormId, childFormGroupId, childParentGroupId, childParentFieldId);
                                childSectionId = "form-" + TaskId + '-' + childFormId + '-' + childFormGroupId + "-" + childParentGroupId + "-" + childParentFieldId;
                                $('#'+ sectionId).find('.form-preview-container').append(`
                                    <div id="preview1/${childSectionId}" class="preview-container">
                                        <p id="preview2/${childSectionId}">${childForm.title()} ${childFormGroupId}</p>
                                    </div>
                                `)

                            })
                           
                        }
                         // add button at the end

                         $('#'+ sectionId).append(`
                         <button type="button" id="addTo-${sectionId}" onclick="addNewSubform('${row.Title}', '${sectionId}', '${row.FieldId}')">New ${row.Title}</button>
                         `)
                        
                    // for every other row we add just input field
                    } else {
                        $('#'+ sectionId).append(`
                        <div class="row">
                            <span>${row.Title}</span><br/>
                            <input id="${sectionId + "-" + row.FieldId}" 
                                type="text" 
                                name="${row.Title}" 
                                value="${row.FieldValue}" 
                                onchange=${function() {testInput()}} 
                                placeholder="${row.GhostText}"></input>
                        </div>
                    `)}  
                });

                    // add "Save" or "Submit" button
                    // if form is SuperParent (it's SuperParentFieldId === "NULL") we add "Submit" button
                    if (ParentGroupId === null) {
                        $('#'+ sectionId).append(`
                        <button type="button" id="submit-${sectionId}">Submit</button>
                    `)  
                    } else {
                        $('#'+ sectionId).append(`
                        <button type="button" id="save-${sectionId}">Save</button>
                    `)
                    }

                })
                
            })

        });

    });

})



// NOTE FORM VALUES UPDATE
// create a copy of a superParentForm with all subforms in separete list of objects

// let's assume that we need to define (or pass) ID of the main form we are going to work with:
let superParentForm = {
    FormId: 2,
    FormGroupId: 1,
    ParentFormId: "NULL",
    ParentFieldId: "NULL",
}

let parentData = getDataSet(superParentForm.FormId, superParentForm.FormGroupId, superParentForm.ParentFormId, superParentForm.ParentFieldId)

// this is a fuull dataset that will be modified by user and send in api call when user submit a form
// data from subforms will be added to this dataset just in case user click "Save" button 
// const updatedForm = [...selectedData];

// a list of object where each object is a dataset for particulat form
const modifiedData = [];
// we add parentData to it by default 
modifiedData.push({
    formId: "form-" + superParentForm.FormId + "-" + superParentForm.FormGroupId + "-" + superParentForm.ParentFormId + "-" + superParentForm.ParentFieldId,
    saved: true,
    data: parentData,
})

console.log(modifiedData);


function getUpdatedInput(inputFieldId) {
    console.log("it's changing");   
    let newValue = $('#' + inputFieldId).val();
    console.log(newValue);
}


const getDataFromPage = (formId) => {
    let idArray = formId.split("-");
    let formDataSet = getDataSet(idArray[1], idArray[2], idArray[3], idArray[4]);
    let fieldIdList = [];
    formDataSet.forEach(row => fieldIdList.push(row.FieldId));
    fieldIdList.forEach(FieldId => {
        let newValue = $('#' + formId + "-" + FieldId).val();
        updateRow(formDataSet, FieldId, newValue);
    });
    modifiedData.push()
}

const saveForm = (formId) => {
    let newData = getDataFromPage(formId);
    modifiedData.push({
        formId: formId,
        data: newData,
    })
}


console.log(sectionIdList);


// NOTE SWITCHING BETWEEN FORMS
const switchForm = (event) => {
    // get id of clicked element
    let elementSelected = event.target.id;

    // if id="task-N"
    if (elementSelected.split("/")[0] === "task-preview"){
        let selectedTask = elementSelected.split("/")[1];
        let sectionId = sectionIdList[selectedTask][0];
        setTaskDataSet(selectedTask);
        setVisibleForm(sectionId);
        $('#' + sectionId).removeClass('hidden');
        $(`#job-${job.JobId}`).addClass('hidden');
        console.log(selectedTask);

    }

    // if id="back"
    if (elementSelected === "back") {
        console.log("going back");
        // new visible form will be the last form in formHistory array
        let newVisibleForm = '';
        if (formHistory[currentTaskId].length > 0) {
            newVisibleForm = formHistory[currentTaskId][formHistory[currentTaskId].length - 1];
        } else {
            newVisibleForm = "job-"+ job.JobId;
        }

        // remove "hidden" class from the section with newVisibleForm id
        $('#' + newVisibleForm).removeClass('hidden');

        // and add "hidden" class to the current visible form
        $('#' + visibleForm.sectionId).addClass('hidden');
        
        // assign a new id to visible form
        visibleForm.sectionId = newVisibleForm;

        // remove last element in formHistory array
        formHistory[currentTaskId].pop(newVisibleForm);


    }
    // if form id was selected (preview form ID always contain "/" so it always can be splitted)
    
    if (elementSelected.split('/')[1]) {
        let formIdSelected = elementSelected.split('/')[1];

        // verify if form Id is in the list of all forms sectionIdList
        if (sectionIdList[currentTaskId].includes(formIdSelected)) {
            
            // remove "hidden" class from selected form Id
            $('#' + formIdSelected).removeClass('hidden');

            // and add "hidden" class to the current visible form
            $('#' + visibleForm.sectionId).addClass('hidden');

            // add current visible form Id to the history array
            formHistory[currentTaskId].push(visibleForm.sectionId);

            // assign a new visible form Id
            visibleForm.sectionId = formIdSelected;
 
        }
    }
    

}

// listener 
$(document).on('click', switchForm);








// Handle modal window "Add new task"

// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}